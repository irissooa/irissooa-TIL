# ë‹¤ì´ë‚˜ë¯¹í”„ë¡œê·¸ë˜ë° DP

[toc]

## ë‹¤ì´ë‚˜ë¯¹í”„ë¡œê·¸ë˜ë°(DP)

> [ì¶œì²˜ : ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°(DP)](https://infinitt.tistory.com/246)

- ê°œë… : ë¬¸ì œë¥¼ ë” ì‘ì€ ë‹¨ìœ„ë¡œ ìª¼ê°œì–´ í•´ê²°í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜. **(ë¶„í•  ì •ë³µ ì•Œê³ ë¦¬ì¦˜ê³¼ ë¹„ìŠ·í•˜ë‹¤.)**
- í•µì‹¬ì€, **ê·¸ ì‘ì€ ë‹¨ìœ„ì˜ ë¬¸ì œë“¤ì´ ë°˜ë³µí•´ì„œ ì¼ì–´ë‚˜ê¸° ë•Œë¬¸ì—, ê·¸ê°’ë“¤ì„ ì €ì¥í•´ë†“ëŠ” ì‹ìœ¼ë¡œ í•´ê²°í•´ë‚˜ê°€ëŠ” ì•Œê³ ë¦¬ì¦˜**
- **(ë‹¤ì´ë‚˜ë¯¹ì´ë¼ëŠ” ì´ë¦„ì—ëŠ” ì•„ë¬´ ëœ»ë„ ì—†ë‹¤ê³  í•œë‹¤.)** 



### **ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì„ ì‚¬ìš©í•˜ê¸° ìœ„í•œ ì¡°ê±´**

**1. ë¶€ë¶„ ë¬¸ì œë“¤ì´ ê²¹ì¹˜ëŠ”ê°€ (ë°˜ë³µ ë˜ëŠ”ê°€)**  

  ex ) í”¼ë³´ë‚˜ì¹˜ ìˆ˜ : **Në²ˆì§¸ í•­**(í° ë¬¸ì œ) = **N-1ë²ˆì§¸ í•­**(ì‘ì€ ë¬¸ì œ) + **N-2 ë²ˆì§¸ í•­**(ì‘ì€ ë¬¸ì œ)

- í”¼ë³´ë‚˜ì¹˜ì˜ íŠ¹ì„±ì„ ì˜ ì‚´í´ë³´ë©´ Fibo(10)ì„ êµ¬í• ë•ŒëŠ” `Fibo(9)+Fibo(8)....Fibo(1)` ê¹Œì§€ ëª¨ë‘ í•„ìš”í•¨
-  ì´ë•Œ ë©”ëª¨ì´ì œì´ì…˜ì„ í†µí•´ ë°°ì—´ì— ì €ì¥í•´ë†“ëŠ”ë‹¤ë©´, Fibo(12)ë¥¼ êµ¬í• ë•ŒëŠ” , 1~10ë²ˆì§¸ í•­ê¹Œì§€ ì´ë¯¸ ë©”ëª¨ê°€ ë˜ì–´ìˆìœ¼ë¯€ë¡œ, 11ë²ˆì§¸ í•­ë§Œ ì—°ì‚°í•˜ë©´ ë˜ë¯€ë¡œ íš¨ìœ¨ì 

> *** ì¬ê·€í•¨ìˆ˜ë¡œ êµ¬í˜„í•œ í”¼ë³´ë‚˜ì¹˜ (Python)**

```python
def fibonacci(n):
	if n<=1 :
		return n
	
	else : return fibonacci(n-1) + fibonacci(n-2)
```

 

> **ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ìœ¼ë¡œ êµ¬í˜„í•œ í”¼ë³´ë‚˜ì¹˜ (memoization)**
>
> **í•œë²ˆ ê±°ì³¤ë˜ í•­ë“¤ì€ ëª¨ë‘ memoì— ì €ì¥ëœë‹¤. **
>
> **ë”°ë¼ì„œ, ë‹¤ìŒì— êµ¬í• ë•ŒëŠ” ì—°ì‚°ì—†ì´ ë¦¬í„´ì´ ê°€ëŠ¥í•˜ë‹¤.**

```python
memo = [0 for i in range(100)]
def fibonacci(n):
	if n<=1 :
		return n
	
	else :
		if memo[n] > 0 :
			return memo[n] 
		memo[n] = fibonacci(n-1) + fibonacci(n-2)
		return memo[n]
```

â€‹    



**2. ìµœì  ë¶€ë¶„ êµ¬ì¡°** 

> ë¬¸ì œì˜ ì •ë‹µì„ ì‘ì€ ë¬¸ì œì˜ ì •ë‹µìœ¼ë¡œë¶€í„° êµ¬í•  ìˆ˜ ìˆëŠ”ê°€

- ex ) ìµœë‹¨ê²½ë¡œ êµ¬í•˜ê¸° :

> **Aì—ì„œ C**ë¡œ ê°€ëŠ” ìµœë‹¨ê²½ë¡œ (í° ë¬¸ì œ) = **Aì—ì„œ B**ë¡œê°€ëŠ” ìµœë‹¨ê²½ë¡œ(ì‘ì€ ë¬¸ì œ) + **Bì—ì„œ C**ë¡œê°€ëŠ” ìµœë‹¨ê²½ë¡œ(ì‘ì€ ë¬¸ì œ)

- ë”°ë¼ì„œ, **ì •ë‹µì„ í•œë²ˆ êµ¬í–ˆìœ¼ë©´ Memoization** í•˜ì—¬, ë°˜ë³µì—°ì‚°ì„ ì—†ì• ëŠ” ê³¼ì •ì´ ì¤‘ìš”í•˜ë‹¤.

 

### ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë° êµ¬í˜„



#### 1. **Top - down : ìœ„ì—ì„œ ì•„ë˜ë¡œ í•´ê²°í•œë‹¤. (ex : ì¬ê·€í•¨ìˆ˜)**

1. **ë¬¸ì œë¥¼ ìª¼ê° ë‹¤.**
2. **ì‘ì€ ë¬¸ì œë¥¼ í‘¼ë‹¤.**
3. **ì‘ì€ ë¬¸ì œì˜ ì •ë‹µìœ¼ë¡œ í° ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.**



#### 2. **bottom - up : ì•„ë˜ì—ì„œ ìœ„ë¡œ (ex : ë°˜ë³µë¬¸)**

1. **ì‘ì€ ë¬¸ì œë¶€í„° í’€ì–´ë‚˜ê°„ë‹¤.**
2. **ë¬¸ì œì˜ í¬ê¸°ë¥¼ ì ì  í¬ê²Œ ë§Œë“¤ì–´ í‘¼ë‹¤.**
3. **ì‘ì€ ë¬¸ì œë“¤ì„ í•´ê²°í–ˆê¸° ë•Œë¬¸ì—, í•œë‹¨ê³„ ìœ„ì˜ í° ë¬¸ì œë¥¼ í’€ ìˆ˜ ìˆë‹¤.**
4. **ìµœì¢…ì ì¸ ë¬¸ì œë¥¼ í•´ê²°í•œë‹¤.**

  

**ì‹œê°„ë³µì¡ë„ëŠ” ë¹„ìŠ·í•œ ìˆ˜ì¤€ì´ë©°, *ë¬¸ì œì— ë”°ë¼ êµ¬í˜„í•˜ê¸° í¸í•œê²ƒì„ ì„ íƒ*í•˜ì—¬ í’€ë©´ ëœë‹¤. (ì¦‰, ì–´ë–¤ê²ƒìœ¼ë¡œ í’€ì–´ë„ í° ìƒê´€ì€ ì—†ë‹¤) ë‹¤ë§Œ íŒŒì´ì¬ ê°™ì€ê²½ìš°ëŠ” ì¬ê·€ë¡œ í’€ê²Œë˜ë©´ ë©”ëª¨ë¦¬ì´ˆê³¼ê°€ ë‚  ê°€ëŠ¥ì„±ì´ íƒ€ ì–¸ì–´ë³´ë‹¤ ë†’ê¸° ë•Œë¬¸ì—, ë°˜ë³µë¬¸(bottom_up)ìœ¼ë¡œ í‘¸ëŠ”ê²Œ ë‚«ë‹¤ê³  í•œë‹¤.**



### **ë¬¸ì œë¥¼ í•´ê²°í• ë•Œ**

- **ì í™”ì‹**ì„ ì •ì˜í•œë‹¤.
- ë¬¸ì œë¥¼ ì–´ë– í•œì‹ìœ¼ë¡œ ìª¼ê°¤ì§€ (ì‘ê²Œ ë§Œë“¤ì§€) ìƒê°í•œë‹¤.
- ì‘ì€ ë¬¸ì œì˜ ë‹µì„ í†µí•´ ì–´ë–»ê²Œ ìµœì¢…ì ì¸ ë¬¸ì œë¥¼ í•´ê²°í•  ìˆ˜ ìˆì„ì§€ ìƒê°í•œë‹¤.

 

## BAEKJOON_DP ê´€ë ¨ ë¬¸ì œ

### 1463_1ë¡œ ë§Œë“¤ê¸°

> [1463_1ë¡œë§Œë“¤ê¸°](https://www.acmicpc.net/problem/1463)ë¬¸ì œ
>
> í’€ë‹¤ê°€....ê²°êµ­ êµ¬ê¸€ë§ ğŸ˜‚ğŸ˜‚ ì°¾ì•„ë³´ë‹ˆ ì í™”ì‹, bfsë¡œ í‘¼ í”Œì´ë“¤ì„ ì°¾ì•˜ë‹¤.

#### 1. ì í™”ì‹ìœ¼ë¡œ í’€ê¸°

- Nì´ë¼ëŠ” ìˆ˜ëŠ” N//3ì„ ì—°ì‚°ì „ìœ¼ë¡œ ëŒë¦¬ë©´, ì¦‰ +1ì„ í•˜ë©´ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- Nì´ë¼ëŠ” ìˆ˜ëŠ” N//2ì„ ì—°ì‚°ì „ìœ¼ë¡œ ëŒë¦¬ë©´, ì¦‰ +1ì„ í•˜ë©´ ë§Œë“¤ ìˆ˜ ìˆë‹¤.
- Nì´ë¼ëŠ” ìˆ˜ëŠ” N-1ì„ ì—°ì‚°ì „ìœ¼ë¡œ ëŒë¦¬ë©´, ì¦‰ +1ì„ í•˜ë©´ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ !!! **ì í™”ì‹ : dp(N) = min ( dp(N//3) +1, dp(N//2)+1 , dp(N-1)+1 )**

```python
n = int(input())

#n+1ê°œë§Œí¼ì˜ 0ìœ¼ë¡œ ì´ë£¨ì–´ì§„ ë°°ì—´ì„ ë§Œë“¤ì–´ì¤Œ
dp = [0 for _ in range(n+1)]

#dpë¼ëŠ” ë°°ì—´ì˜ indexëŠ” ë¬¸ì œì˜ ì…ë ¥nrê³¼ ëŒ€ì‘í•˜ê³ , indexì˜ ê°’ì€ ì—°ì‚°ìµœì†Ÿê°’(ë¬¸ì œì˜ ì¶œë ¥)ì— ëŒ€ì‘
for i in range(2, n+1):
    #1.
    dp[i] = dp[i-1] + 1  
    
    #2.
    if i%2 == 0 and dp[i] > dp[i//2] + 1 :
        dp[i] = dp[i//2]+1
        
    if i%3 == 0 and dp[i] > dp[i//3] + 1 :
        dp[i] = dp[i//3] + 1
        
print(dp[n])
```

**#1.**

dp[i] í˜„ì¬ ê°’ì˜ ë°°ì—´ì— ë“¤ì–´ê°ˆ ìˆ˜ëŠ” í˜„ì¬ê°’ì—ì„œ 1ì„ ëº€ ìˆ˜ì˜ ë°°ì—´ê°’ì— 1ì„ ë”í•œ ìˆ˜

WHY??

dpë°°ì—´ì˜ í˜„ì¬ indexì— ì•ìœ¼ë¡œ í•  í–‰ë™(1ë¹¼ê¸°)ì„ í•œ ë’¤ì˜ index dpë°°ì—´ê°’ì—  +1(ì—°ì‚°ì¶”ê°€:í–‰ë™ì„ í–ˆê¸° ë•Œë¬¸!)ì„ í•œ ê°’ì„ ë„£ì–´ì¤Œ!

nì—ì„œë¶€í„° ì‹œì‘í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ì‘ì€ìˆ˜ë¶€í„° nìœ¼ë¡œ  forë¬¸ì„ ëŒë©´ì„œ ì—°ì‚° ìˆ˜ë¥¼ ì…€ê²ƒì´ê¸° ë•Œë¬¸



**#2.**

ë§Œì•½ 2ë¡œ ë‚˜ëˆ„ì–´ë–¨ì–´ì§€ëŠ”ë° 

`dp[i] > dp[i//2] + 1` ì´ ì¡°ê±´ì´ Trueë¼ë©´,

dp[i] ìë¦¬ì— ë„£ì„ ë” ì‘ì€ ê°’ì„ ì°¾ì•˜ë‹¤ëŠ” ëœ»!

ê·¸ëŸ¼ ê·¸ ë°°ì—´ì˜ ê°’ì„ ë” ì‘ì€ ê°’ìœ¼ë¡œ ê°±ì‹ í•´ì¤Œ!

3ìœ¼ë¡œ ë‚˜ëˆ ë–¨ì–´ì§€ëŠ” ê²ƒë„ ë§ˆì°¬ê°€ì§€!





**+ ì‹œê°„ë³µì¡ë„**

ë°°ì—´ì˜ í¬ê¸° * O(1)ì´ë‹¤. (ë°°ì—´ í•˜ë‚˜ë‹¹ O(1)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§€ë¯€ë¡œ)

ë°°ì—´ì€ n+1ì´ë¯€ë¡œ **ì‹œê°„ë³µì¡ë„ëŠ” O(n)**

 

#### 2. BFSë¡œ í’€ê¸°

> [ì¶œì²˜:poorman.tistory](https://poorman.tistory.com/421)

1. ë„ˆë¹„ìš°ì„ íƒìƒ‰(BFS) ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•˜ì—¬ N ê°’ì´ 1ì´ ë ë•Œê¹Œì§€ íƒìƒ‰í•œë‹¤.

2. FIFO íë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ collections.dequeë¥¼ ì´ìš©í•˜ì—¬ popleftë¡œ ê°’ì„ êº¼ë‚¸ í›„ì— ìƒˆë¡œìš´ ë…¸ë“œë¥¼ appendí•œë‹¤.

3. ë…¸ë“œ ê°’ì€ [value, count] í˜•íƒœë¡œ ì‚¬ìš©í•˜ê³  ë„ˆë¹„ ìš°ì„  íƒìƒ‰ì´ë¯€ë¡œ valueê°€ 1ì´ ë˜ëŠ” ìˆœê°„ì˜ countë¥¼ ë¦¬í„´í•œë‹¤.

```python
import sys
from collections import deque
input = sys.stdin.readline

N = int(input())

def BFS(x):
    cnt = 0
    Q = deque([(x,cnt)])
    while(Q):
        x,cnt = Q.popleft()
        if x == 1:
            return cnt
        if x % 3 == 0:
            Q.append([x//3,cnt+1])
        if x % 2 == 0:
            Q.append([x//2,cnt+1])
        Q.append([x-1,cnt+1])
    return -1

print(BFS(N))
```

ìˆ˜í–‰ì‹œê°„ : 2372ms



* ì—¬ê¸°ì„œ ê¶ê¸ˆí•œì !

cntê°€ ìµœì†Œì¸ì§€ëŠ”...bfsë¼ì„œ ì•„ëŠ”ê±¸ê¹Œ....bfsëŠ” ìµœì†Ÿê°’ì„ êµ¬í•˜ëŠ”ë° ì“°ê¸° ë•Œë¬¸ì—...





#### 3. DFS

> [ì¶œì²˜:poorman.tistory](https://poorman.tistory.com/421)

1. ê¹Šì´ìš°ì„ íƒìƒ‰(DFS) ì•Œê³ ë¦¬ì¦˜ì„ ì´ìš©í•˜ì—¬ N ê°’ì´ 1ì´ ë ë•Œê¹Œì§€ íƒìƒ‰í•œë‹¤.

2. LIFO ìŠ¤íƒì„ ì‚¬ìš©í•˜ì—¬ popìœ¼ë¡œ ê°’ì„ êº¼ë‚¸ í›„ì— ìƒˆë¡œìš´ ë…¸ë“œë¥¼ appendí•œë‹¤.

3. ë…¸ë“œ ê°’ì€ [value, count] í˜•íƒœë¡œ ì‚¬ìš©í•˜ê³  value ê°’ì´ 1ì´ ë˜ëŠ” ìˆœê°„ì˜ countê°’ìœ¼ë¡œ min_countì˜ ìµœì†Œ ê°’ì„ ê°±ì‹ í•œë‹¤.

4. ìµœì†Œ count ê°’ë§Œ êµ¬í•˜ë©´ ë˜ê¸° ë•Œë¬¸ì— min_countë³´ë‹¤ëŠ” ë” ê¹Šê²Œ íƒìƒ‰í•˜ì§€ ì•ŠëŠ”ë‹¤.

5. ê¹Šì´ ìš°ì„  íƒìƒ‰ì´ ëª¨ë‘ ëë‚¬ì„ ë•Œ min_countê°’ì„ ë¦¬í„´í•œë‹¤.

```python
import sys
from collections import deque
input = sys.stdin.readline

N = int(input())
def DFS(x):
    min_cnt = x
    cnt = 0
    Q = deque([(x,cnt)])
    while(Q):
        x,cnt = Q.pop()
        if cnt >= min_cnt:
            continue
        if x == 1:
            min_cnt = min(min_cnt, cnt)
        Q.append([x-1,cnt+1])
        if x % 2 == 0:
            Q.append([x//2,cnt+1])
        if x % 3 == 0:
            Q.append([x//3,cnt+1])
    return min_cnt

print(DFS(N))
```

ìˆ˜í–‰ì‹œê°„ : 1272ms

*** í•´ë‹¹ ë¬¸ì œëŠ” BFS/DFSì˜ íƒìƒ‰ì— ì‹œê°„ì´ ë§ì´ ì†Œìš”ë˜ì–´ ë¹„íš¨ìœ¨ì ì´ë‹¤.**



#### 4. ì¬ê·€í•¨ìˆ˜

1. ì¬ê·€í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ í˜„ì¬ ìœ„ì¹˜ì— ë„ë‹¬í•˜ëŠ” ìµœì†Œ ì½”ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•œë‹¤.

2. í˜„ì¬ ìœ„ì¹˜ì˜ ìµœì†Œ ì½”ìŠ¤íŠ¸ì— ë„ë‹¬í•˜ê¸° ìœ„í•´ì„œëŠ” 2,3ìœ¼ë¡œ ë‚˜ëˆ„ì–´ ë–¨ì–´ì§€ëŠ” ê±°ë¦¬(x//2,x//3) + ë‚˜ë¨¸ì§€ ê±°ë¦¬(x%2,x%3) + 1ì´ë‹¤. f(x) = min( f(x//3) + x%3 + 1, f(x//2) + x%2 + 1)

3. ê±°ë¦¬ê°€ 1ì¼ë•ŒëŠ” 0, ê±°ë¦¬ê°€ 2,3ì¼ë•ŒëŠ” 1ì˜ ì½”ìŠ¤íŠ¸ê°€ ë“ ë‹¤. f(1) = 0, f(2) = 1, f(3) = 1

```python
import sys
input = sys.stdin.readline

N = int(input())
def fnc(x):
    if x == 1:
        return 0
    elif x <= 3:
        return 1
    return min(fnc(x//3) + x%3 + 1, fnc(x//2) + x%2 + 1)
print(fnc(N))
```

ìˆ˜í–‰ì‹œê°„ : 72ms





## Reference

[ì¶œì²˜ : ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°(DP)](https://infinitt.tistory.com/246)

[ì¶œì²˜: [poorman]]( https://poorman.tistory.com/421)